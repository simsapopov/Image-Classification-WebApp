<div class="container">
  <form [formGroup]="classifyForm" (ngSubmit)="onSubmit($event)">
    <div class="form-group flex-container" [formGroup]="classifyForm">
      <clr-combobox-container>
        <label for="service">Service</label>
        <clr-combobox
          formControlName="service"
          name="service"
          required
          placeholder="Select a service"
        >
          <clr-options>
            <clr-option clrValue="imagga">Imagga</clr-option>
            <clr-option clrValue="clarifai">Clarifai</clr-option>
          </clr-options>
        </clr-combobox>
      </clr-combobox-container>

      <clr-combobox-container>
        <label for="dataType">Data Type</label>
        <clr-combobox
          formControlName="dataType"
          name="dataType"
          required
          placeholder="Select a data type"
        >
          <clr-options>
            <clr-option clrValue="file">File</clr-option>
            <clr-option clrValue="url">URL</clr-option>
          </clr-options>
        </clr-combobox>
      </clr-combobox-container>

      <div class="button-container">
        <button type="submit" class="btn btn-primary">Classify</button>
      </div>
    </div>
    <div
      class="ics-mb-3"
      *ngIf="classifyForm.get('dataType')?.value === 'file'"
    >
      <input
        type="file"
        id="file"
        (change)="onFileSelected($event)"
        style="display: none"
      />
      <label for="file" class="file-upload-label btn btn-primary">Upload File</label>
      <span *ngIf="selectedFileName">{{ selectedFileName }}</span>
    </div>

    <div
      class="form-group"
      *ngIf="classifyForm.get('dataType')?.value === 'url'"
    >
      <div
        class="clr-form-control"
        [ngClass]="{ 'clr-error': isImageUrlInvalid() }"
      >
        <div class="clr-control-container ics-url">
          <div class="clr-input-wrapper">
            <input
              type="url"
              id="example"
              formControlName="imageUrl"
              placeholder="Enter Url"
              class="clr-input"
            />
            <cds-icon
              class="clr-validate-icon"
              shape="exclamation-circle"
            ></cds-icon>
          </div>
          <span *ngIf="isImageUrlInvalid()" class="clr-subtext clr-error">
            URL is required
          </span>
        </div>
      </div>
    </div>
  </form>
</div>
